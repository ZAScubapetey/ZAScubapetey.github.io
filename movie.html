<!DOCTYPE html>
<html>
    <head>
        <title>Movie look up</title>
  <meta charset="UTF-8">
  <meta name="Portfolio" content="My first java script website">
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
        <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
        <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.6/css/all.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    
        <script>
            var xmlhttp;
            
            window.onload = function()
            {
                document.getElementById('btnGetInfo').addEventListener('click',getMovieInfo, false);
            }
            
            function getMovieInfo(e)
            {
             
                           var title = document.getElementById('title').value;
                var url = "https://www.omdbapi.com/?t=" + title + "&apikey=3fd382d2&plot=full&r=json";
                //console.log(url);
                xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = processData;
                xmlhttp.open("GET", url, true);
                xmlhttp.send();
            }
            
            function processData()
            {
                if(xmlhttp.readyState==4 && xmlhttp.status== 200)
                    {
                                          
                      var movieJSON = xmlhttp.responseText;
                        movieJSON = JSON.parse(movieJSON);
                        var title= movieJSON.Title;
                        var year = movieJSON.Released;
                        var actors = movieJSON.Actors;
                        var plot = movieJSON.Plot;
                        var rating = movieJSON.Rated;
                        var posterURL = movieJSON.Poster;
                        
                        document.getElementById('poster').src = posterURL;
                        document.getElementById('movieTitle').innerHTML = "<h1>" + title + " ["+ rating +"]</h1>";
                        document.getElementById('movieYear').innerHTML = "<h3>" + year + "</h3>";
                        document.getElementById('movieActors').innerHTML = "<p>" + actors + "</p>";
                        document.getElementById('moviePlot').innerHTML = "<p>" + plot + "</p>";
                        
                        
                        
                    }
            }
 
        
        </script>
        <style>
        #container
            {
                margin: 5px;
            }
        label
            {
                font-weight: bold;
                font-size: 2em;
            }
        #poster
              {
                  float: right;
                  width: 25%;
              }
              
        </style>
 
    </head>
 
    <body>
        <div id="container">
            <label for="title">Movie Title</label>
            <input type="text" id="title" />
            <button id="btnGetInfo">Get Movie Info</button>
 
 
            <div id="movieTitle"></div>
            <div id="movieYear"></div>
            <div ><img id="poster"></div>
            <div id="movieActors"></div>
            <div id="moviePlot"></div>
        </div> <!-- container -->  
    </body>
</html>
